#!/usr/bin/env python3
import numpy as np
from process import loadDataFile,getMinilpGBTGroups,getBundles
from itertools import combinations
import matplotlib.pyplot as plt

arr1 = np.array([ 662,  256,  634,  467,  124,  978, 1003,  714,  999,  495,  974,
        281,  266,   19,  308,  517,  322,  180,  351,   72,  374,  820,
        938,  931,   57,  560,  450,  518,   32,  524,  732,  512,    5,
        735,  611,  221,  138,  506,  979,  189, 1047,   79,  336,  610,
        563,  968,  993,  754,  296,  648, 1004,  594,  982,  174,  391,
        231,  788,  795,  980,  378,  395,  796,  201,  497,  529,  405,
        985,  659,  996,  812,  123,  595,  917,  183,  809, 1032,  973,
        539,  549,  373,  720,  557,  479,  430,  793,  649,  390,   92,
        876,  775, 1029,  194,  895,  920,  481,  780,  145,  540,  771,
        956,  347,   37,  886,  728,  246,  749,  435,  900,  959,   27,
        168,  465,  893,  463,  830,  310,  537,  882,  288,  460,  707,
        459,  165,  701,  690,  243,  224,  320,  704,  305,  140,  757,
        542,  585,   30, 1043,  139,  901,  354,  632,   45,  618,  103,
        530,  453,  930,  339,   14,  912,  482,  404,  331,  645,  598,
        531,  340,  944,  474, 1040, 1017,  421,   82,  613,  444,  678,
       1007,  321,  282,  466,  709,  242,  926,  758,  353,  173,  182,
        513,   18,  146, 1037,  572,  319,  631,  945,  280,  360,   36,
        268,  216,  407,  458, 1039,  241,  144,   22,  823,  833,   17,
        193,  536,   68,  664,  661,  190,  300,  503,  313,  501,  515,
       1013,  800,  935,   48,  832,  204,  892,  942,  953,  365,  388,
        425,  986,  964,  851,  564,   66,  416,  860,  507,  449,  359,
        210,  722,  297,  398,  991,  227,  852,  967,  187,  884,  120,
        607,  131,  211,   26,  946,  802,  141,  244,  292,  910,  988,
        849,  379,  229,  473,  223,  730,  255,  493,  637,  990,  989,
        965,  923,  428,  907,  887,  574,  657, 1051,  411,  952,  764,
        491,  924,  116,  119,   49,  158,  654,  889,  106,  865,  807,
        734,  614,  929,  522,  113,  438,  358,  687,  206,  639,  276,
        658,  761,  655,  559,  733,  779,  646,  149,   70,  101,  766,
        265,  439,  286,  128,  412,  651,  485,   24,  753,  271,  155,
        813,  740,  782,  480,  445,  818,   44,  568,   67,  747,  496,
        699, 1005,  932,  176,  579,  584,  514,  811,  703,  440,  179,
        743,  772,  526,  682,  181,   73,  590,  845,  609,  581,  797,
        783,  443,  352,  137,  191,   31,  392,  345,  752,  417,  143,
        133,  301,   13,  561,  261,  933,  386, 1002, 1006,   89,  254,
        132,  306,   84,  814,  409,  790,  981,  520,  642,  725,  686,
          8,  700,  723,  238,  898,  824,  274,  567,  858,  891,  719,
       1021, 1009,  259,  487,  209,  966,  578,  291,  264,  377, 1015,
        403,  940,  326,  724,  778, 1034,  666,  323,  164, 1012,  727,
          6,  283,  911,  963,   69,  508,   97,  846,  293,  670, 1011,
        538,  220,  954,   15, 1038,  597,  870,   99,  302,  208,  543,
        110,  327,  606,  457,  774,  554,  121,  612,  253,  767,  278,
        196,  371,  366,  673,  346,  943,  285,  226,  738,   59,  680,
         38,  494,  765,  949,  202,  836,  689,  363,  414,  195,  669,
        500,  624, 1008,  718,  393,  552,   75,  387,  671,  939,  643,
         94,  167,  633,  550,  396,  456,  675,  290,   77,   86,  135,
        372,  316,  644,  934,  222,  498,  589,  868,  369,  295,  936,
        599,   83,  825,  489,  309,   78,  122,  505,  318,  815,  134,
         21,  307,  104,  175,   71,  357,  586,  364,  582,  799,  275,
        575,   29,  822,  622,  553,  558,  504,  511,  199,  831,  909,
         35,  958,  744,  605,  532,  692,  448,  708,  787,   16,  908,
        902,  468,  492,  697,  355,  249,  108,   56,  546,   47, 1046,
        446,   91,  717,  668, 1000,  367,  298, 1049,  154,  383,    1,
        178,  587,  593,  741, 1019,  338, 1044,  475,  650,  713, 1045,
        228,  806,  653,  736,  105,   87,  262,  805,  616,  983,   12,
         98,  726,   20,  576,   28,  317,  519,  676,  464,  906,  424,
        838,  230,   93,  600,  984,  647,  151,  922,   51,  629,  213,
        461,  630,  172,  794,  250, 1001,  801,  828,  843,  343,   11,
        857,  705,  521,  592,  516,  368,  556,  640,  454,  663,  786,
        628,  470,  601,  257,  544,  691,  547,  789,  555,  762,  289,
        303,  925,  548,  117,  225,  829,  136,  763,  677,  916,  269,
        615,  635,   90,  835,  382,  755,  126,  455,  667,  854,  375,
        565,  877,  107,  156,  652,  419,  402,  247,  212,  525,  834,
        527,  927,  602,  299,  863,  875,  928, 1042,  115,  577,  534,
        571,  626,  263,  588,  748,  161,  127,  427,  452,  862,  603,
        413,  856,  962,   55,  423,  484,  941,  660,   61,  437,   52,
        239,  620,  839,  535,  150,  324,  604,  433,  569,  207,  356,
        739,  431, 1030,  776,  791,  960, 1041,  816,  410,  562,  665,
        217,  867, 1033,  341,  198,   62, 1031,  200,   41,  523,  672,
        698, 1028,  267,  853,  125,  573,  205,  998,  827,  859,  142,
        415,  804,  903,  111,  837,  472,  248,  975,  841,   58,  219,
        873,  401,  420,  315,  163,  674,  112,   74,  490, 1020,  160,
        921,  325,  729,  418,  840,  746,  114,  792, 1016,  977,  808,
        715,  130,  621,  422,   33,  688,  333,  638,   81,    0,  817,
        781,  769, 1050,  197,  896,  711,  185,  499,  716,  695,  627,
        750,  693,  284,  252,  157,  335,  129,  712,   40,  760,  684,
        888,  770,  483,  957,  442,  696,  436,  441,  476,  471,  904,
        148,  899,  617,   96,  334,  370,  381,  890,  166,  232,   23,
        426,  742,  240,  533,  171,  731,  994,  850,  869,  153,  332,
        759,  694,  102,  177,  784,  429,  995,  821,  330,  913,  623,
        997,   95,  152,  328,  992,  477,  919,  186,  872,  880,  619,
         53,  100,  314,  287,  847,  866,  777, 1024,   88,  751,  566,
        583,   60, 1025,  721, 1026,   64,  192,  681,  203, 1018,  879,
        551,  400,  385,    9, 1023,  596,  162,  361,  528,   43,  434,
        955,  188,  905,  950,  462,   85, 1027,  874,  147,  915,  894,
        279, 1022,  337,   80,  918,  970,  109,  312,  159,  545,  478,
        389,  737,  380,    3,  636,  969,  591,  349,  502,  488,  342,
        768,  826,  710,  234,  251,   63,  937,  233,  971,  235,  987,
        384,  294, 1035,  245,  976, 1036,   46,  469,  864,  972, 1010,
        656,  184,  961,   39,  951,  170,  683,  272,    2,  350,  803,
        848,  311,  260,  625,  541,   54,  408,  785, 1014,  685,  881,
         34,   25,  570,  406,  885,  510,   65,  214,  855,  447,  258,
          7,  397,  679,  329,  706,   76,  273,  756, 1048,  844,  861,
        641,  270,  344,  394,  878,  871,  773,  215,  580,  277,  348,
        914,   10,  486,  362,  798,  432,  118,  897,   42,  451,  819,
        948,  608,  218,  883,  304,  745,  947,    4,  237,   50,  842,
        702,  376,  810,  509,  169,  236,  399])


arr2 = np.array([ 204,  539,  566,  938,  336,  817,  237, 1037,   20,  141,  403,
        365,  795,  508,  628,  301,   59,   26,  329,  630,   38, 1048,
        418,  272,   29,  311,  533,   36,  941,  397,  828,  657,  385,
        392,  145,  767,  951,  407,  984,  238,  175,  452,  779,  347,
        449,  192,  536,  410,  800,  947,  201,  948,  493,  297,  261,
        780,  865,  573,  952,  863,   15,  309,  366,  180,  354,  444,
        339, 1024,  412,  382,   37,  751,  829,  505,  263,  890,  599,
         84,  456,  156,  871,   27,  705,  230, 1023,  123,  781,  908,
       1022,  778,  593,  822,  317,  208,  459,  408,   81,  211,  629,
        370,  356,  702,  916,  514,  643,  358,  540,  264,  458,  625,
        312,  849, 1010,  359,  190,  756,  854,  720,  763,  159,  105,
        836,  776,  326, 1038,  895,  345,  434,  749,  294,  700,  132,
        585, 1034,  921,  391,  162,  171,  639,  185,   69,  919,  268,
        113,  590,  616,  631,  224,  104,   34,  658,  664,  355,  721,
        682,  374,  641,  507,  202,  719,   97,  225,  766,  755,  837,
        266,  804,  726,  240,  376,  824,  580,  944,  788,  797,  677,
        454,  759,  917,  950, 1013, 1011,  723,  405,   99, 1026,  880,
        831,  379, 1049,  289,  164,  893,  712,  785,  686,  596,  527,
        892,  522,   45,  117,  274,  303,  401,  174,  471,  135,  271,
          9,  861, 1012,    7,  169,  305,  614,  199, 1047,  420,  852,
        362,  993,   92,  416,  197,  910,  253,  673,   88,  570,  856,
        378,  530,  428,  567,  653,  882,  373,  424,  881,  902,  830,
        565, 1006,  331,  472,  325,  496,  387,   94,  349,   42,  691,
         63,  820,  121,  260,  307,  886,   11,  474,  144,   33,    0,
        582,  525,  296,  669,  502,  450,  439,  545,  887,  592,  688,
        212,  787,  978,   75,  267,  315,  739,  509,  838,  979,  991,
       1028,  377,  975,  735,  734,  557,  974,  188,  181,  523,  710,
        503,  285,  178,  943,  232,  134,  556,  111,  884,  426,  967,
        369,  109,  988,  946,  451,  129,  758,  990,  393,  965,  963,
         43,  765,  344,  352,  962,  925,  600,  989,  588,  552,  350,
        343,  455,  681,  431,  995,  243,  899,  914,  101,  381,  608,
        731,  475,  708,  610,  210,  845,  364,  341,  986,  498,  398,
        221, 1020,  826, 1031,  915,  476,  645,  923,  115,  198,  411,
        147,    1,  283,  564,  670,  906,  583,  903,  279,  869,  929,
        290, 1017,  624,  654,  361,  571,  461,  276,  228, 1019,  649,
        569,   23,  318, 1016,  832,  486,  464,   78,  581,  575, 1035,
        328,  270,  561,  419,  707,  216, 1051,  126,  775,  363,  406,
        985,  248,  327,  794,  678,  492,  342,  733,   44,  320,  650,
        823,  140,   51,  353,  675,   30,  155,  924,  563,  620,  273,
        638,  634,  994,  422,  774,   82,  553,  632,  597,  467,  931,
        810,  981,  548,  790,   19,  482,  511,  786,  136,  500,  485,
        110,  809,  772,   61,  997,  516,  572,  987,  138,  873,  747,
        889,  513,  930,  926,  194,  807,  107,  672,  789,  494,  742,
        547,  801,  815,  186,  724,  269,  897,  196,   86,  542,  544,
       1003,  568,  191,  782,  236,  698,  791,   83,  414,   98,   48,
        443,  195,  796,  818,  615,  124,  384,   85,  176,  729,  999,
       1002,  998,  310,  878,  699,   67,  591,  560,   89,  302,  898,
         54,   10,  598,  529,  942,  518,  388,  651,  442,  659,  883,
       1000,  512,  937,  706,  526,   12,  348,  139,  337,  799,  469,
        116,  949,  853,  607,  242,  241,  709,  891,  716,  859,  834,
        667,  594,  217,  679,  601,  435,  386,  802,   49,  918,  722,
        423,  314,   93,  694,  321,  167,  640,  770,  819,  666,  761,
        877,  206,  187,  223,  256,  239,  440,  510,  816,  519,  973,
          6,  441,  227,  904,  847,  215,   70,  711,  851,  130,  754,
        957,  618,  970,  622,  980,  506,   39,  814,  971,  982,  932,
        626,   90,  968,  933,  864,  152,  234,  409,  371,  558,  380,
        644,  300,  282,  120, 1008,  389,  939,  554,  133,  662,  193,
        537,  499,  609,  531,   53,  466,  737,   21,  762,   65,  808,
        275,   76,  170, 1007, 1005,  177,   66,  798,  793,  803,  524,
          5, 1004,  277,   56, 1030,   40,  460,  340,  839,  291,  827,
        357,  112,  812,   24,  515,  280,   22,  473,   77,  538,  805,
        896,  647,  457,    3,   74,  247,  577,  668,  114,  660,  813,
        725,  977,  103,  127,  811,  333,  528,  541,  229,  934,  586,
        633,  718,  479,  330,  646,   17,  976,  846,  446,   57,  213,
        842,  714,  966,  106,  543,  874,  154,  835,  235,  745,   47,
        157,  445,  783,  885,  425,  535,  163,  332,  862,  470,   16,
        562,    4,  501,  857,  848,  703,  495,  983,  299,  627,  390,
        743,    2,  338,  254,  833,  969,  432,  972,  738,  748,  142,
        209,  179,  168, 1045,  165,   18,  900,  122,  603,  821, 1044,
        901,  844, 1046, 1041,  251, 1040,  740,  292,   71,  689, 1042,
        480,  259, 1033, 1043,  717,  635, 1032,  189,   14,  621,  959,
        958,  840,  945,  287,  960,  750,  182,  752,  313,  773,  956,
        436,  150,  219,  909,  695,  953,   68,  372,  753,  118,  870,
        784,  484,   87,  489,   96,   32,  964,  676,  732,  693,  665,
        417,  576,  278,  532,   58, 1001,  207,   60,  245,  395,  483,
         46,   13,  692,  584,  741, 1050,  477,  792,  663,  249,  771,
        911,  549,  108,   64,  587,  172,  602,  954,  151,  936,  551,
        940,  468,  415,  867,  293,  413,  955,  437,  158,  619,  894,
        589,   62,  257,  606,  184,  453,  465,  674,  935,  324,  855,
        128,  637,  636,  137,  905,  913,   55,  161,  244,  879,  574,
        265,  611,  119,  335,  704,  683,  481,   73,  907,  250,  701,
        555,  429,   41,  687,  517,  491,  728,  661,  559,  220,  252,
        920,  399,  298, 1027,  730,  160,  888,  777, 1018,  497,  131,
        764,  488,  427,  233,   28, 1021,  284,  546,  286,   95,  612,
        521,   25,  125,  438,  684,  322,  746,  992,  996,  922, 1036,
        306,  961,  843,  319,  595,  579,  226,  394,  375,  487,  875,
        744,  281,  623,  860,  367,  404,  858,  876,  430,  448,  255,
        316,  148,  222,   79,  433,  402,  671,  447,  697,  617, 1025,
        462,  713,  504,  652,  143,  872,  102,  166,  715,  841,  868,
        490,   91,   31,  218,  146,  520,  205,  696,  346,  642,  680,
        912,  334,   72,  400,  203,   52,  153,  360,  304,  231,  768,
        604, 1029,  656,  214,    8,  685,  769,  850,  323,  200,  757,
        246,  288,  421,  928,  727,  258,  351,   35,  534,  295,   80,
        825,  262,  478,  308,  760, 1015,  383, 1014,  655,  550,  100,
        149,  690, 1039,  736,  463,  927,  866, 1009,   50,  648,  173,
        578,  368,  183,  613,  396,  806,  605])


def main():
    MappingFile = "data/FeMappingV7.txt"
    data = loadDataFile(MappingFile) #dataframe    
    minigroups,minigroups_swap = getMinilpGBTGroups(data)

    correlation = np.zeros((len(minigroups_swap),len(minigroups_swap)))

    listofarrs = []
    listofarrs.append(arr1)
    listofarrs.append(arr2)

    for arr in listofarrs:
        bundles = getBundles(minigroups_swap,arr)
        for bundle in bundles:
            combination = combinations(bundle, 2)
            for comb in combination:
                #print(correlation(comb))
                correlation[comb[0],comb[1]] += 1

    #print (correlation)
    # XB = np.linspace(-1,1,20)
    # YB = np.linspace(-1,1,20)
    # X,Y = np.meshgrid(XB,YB)
    # Z = np.exp(-(X**2+Y**2))
    # plt.imshow(Z,interpolation='none')
    plt.matshow(correlation)
    plt.savefig("temp.png")
main()
